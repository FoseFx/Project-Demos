(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{p6kr:function(n,l,t){"use strict";t.r(l);var u=t("CcnG"),e=function(){return function(){}}(),o=t("pMnS"),i=t("Ip0R"),r=t("7T+M"),a=t("Fe16"),c=t("K8Gv"),s=function(){return function(){this.close=new u.m,this.capitalizeFL=c.a,this.dateOf=function(n){return new Date(n)}}}(),b=u.mb({encapsulation:0,styles:[["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin:0}.inner[_ngcontent-%COMP%]{padding:20px}"]],data:{}});function h(n){return u.Ib(0,[(n()(),u.Gb(0,null,[" "," - "," "])),u.Cb(1,2),u.Cb(2,2)],null,function(n,l){var t=l.component,e=u.Hb(l,0,0,n(l,1,0,u.yb(l.parent.parent,0),t.dateOf(t.event.begin),"dd.MM.")),o=u.Hb(l,0,1,n(l,2,0,u.yb(l.parent.parent,0),t.dateOf(t.event.end),"dd.MM."));n(l,0,0,e,o)})}function f(n){return u.Ib(0,[(n()(),u.Gb(0,null,[" "," "])),u.Cb(1,2)],null,function(n,l){var t=l.component,e=u.Hb(l,0,0,n(l,1,0,u.yb(l.parent.parent,0),t.dateOf(t.event.begin),"dd.MM."));n(l,0,0,e)})}function p(n){return u.Ib(0,[(n()(),u.Gb(0,null,[" "," - "," "])),u.Cb(1,2),u.Cb(2,2)],null,function(n,l){var t=l.component,e=u.Hb(l,0,0,n(l,1,0,u.yb(l.parent.parent,0),t.dateOf(t.event.begin),"hh:mm")),o=u.Hb(l,0,1,n(l,2,0,u.yb(l.parent.parent,0),t.dateOf(t.event.end),"hh:mm"));n(l,0,0,e,o)})}function g(n){return u.Ib(0,[(n()(),u.Gb(0,null,[" ",". - ",". Stunde "]))],null,function(n,l){var t=l.component;n(l,0,0,t.event.beginSchulStunde,t.event.end)})}function m(n){return u.Ib(0,[(n()(),u.ob(0,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),u.Gb(-1,null,["Noch nie best\xe4tigt"]))],null,null)}function d(n){return u.Ib(0,[(n()(),u.ob(0,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),u.Gb(1,null,[""," mal best\xe4tigt"]))],null,function(n,l){n(l,1,0,l.component.event.votes)})}function v(n){return u.Ib(0,[(n()(),u.ob(0,0,null,null,29,"app-popup",[],[[40,"@popupOpenClose",0]],[[null,"close"]],function(n,l,t){var u=!0;return"close"===l&&(u=!1!==n.component.close.emit()&&u),u},r.b,r.a)),u.nb(1,49152,null,0,a.a,[],null,{close:"close"}),(n()(),u.ob(2,0,null,0,27,"div",[["class","inner"]],null,null,null,null,null)),(n()(),u.ob(3,0,null,null,1,"h4",[],null,null,null,null,null)),(n()(),u.Gb(4,null,["Von: ",""])),(n()(),u.ob(5,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),u.Gb(6,null,["",""])),(n()(),u.ob(7,0,null,null,1,"h2",[["style","display: inline"]],null,null,null,null,null)),(n()(),u.Gb(8,null,["","\xa0"])),(n()(),u.ob(9,0,null,null,8,"h3",[["style","display: inline"]],null,null,null,null,null)),(n()(),u.eb(16777216,null,null,1,null,h)),u.nb(11,16384,null,0,i.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.eb(16777216,null,null,1,null,f)),u.nb(13,16384,null,0,i.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.eb(16777216,null,null,1,null,p)),u.nb(15,16384,null,0,i.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.eb(16777216,null,null,1,null,g)),u.nb(17,16384,null,0,i.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.ob(18,0,null,null,9,"table",[["style","width: 100%"]],null,null,null,null,null)),(n()(),u.ob(19,0,null,null,8,"tr",[],null,null,null,null,null)),(n()(),u.ob(20,0,null,null,3,"td",[],null,null,null,null,null)),(n()(),u.eb(16777216,null,null,1,null,m)),u.nb(22,16384,null,0,i.m,[u.O,u.L],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),u.eb(0,[["votes",2]],null,0,null,d)),(n()(),u.ob(24,0,null,null,3,"td",[],null,null,null,null,null)),(n()(),u.ob(25,0,null,null,1,"button",[],null,null,null,null,null)),(n()(),u.Gb(-1,null,["Best\xe4tigen"])),(n()(),u.ob(27,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),u.ob(28,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(n()(),u.Gb(-1,null,["\xc4nderung einreichen"]))],function(n,l){var t=l.component;n(l,11,0,"ferien"===t.event.format),n(l,13,0,"fullday"===t.event.format),n(l,15,0,"time"===t.event.format),n(l,17,0,"schule"===t.event.format),n(l,22,0,0===t.event.votes,u.yb(l,23))},function(n,l){var t=l.component;n(l,0,0,u.yb(l,1).anim),n(l,4,0,t.event.by.name),n(l,6,0,t.event.name),n(l,8,0,t.capitalizeFL(t.event.typ))})}function w(n){return u.Ib(2,[u.Ab(0,i.e,[u.u]),(n()(),u.eb(16777216,null,null,1,null,v)),u.nb(2,16384,null,0,i.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,2,0,!!l.component.event)},null)}var M=t("kAhl"),y=t("ZatX"),O=function(){function n(n,l){this.appQuery=n,this.keyService=l,this.currentEvent=null,this.now=new Date,this.showPrevArrow=!0,this.showNextArrow=!0,this.month=[],this.changeMonth=new u.m,this.keySub=null}return n.isLeapYear=function(n){var l=n.getFullYear();return l%4==0&&(l%100!=0||l%400==0)},n.prototype.ngOnInit=function(){var n=this.getAmountOfDaysInMonth(),l=new Date(this.now.getFullYear(),this.now.getMonth(),1).getDay()-1;this.offset=l<0?6:l;for(var t=0;t<this.offset;t++)this.month.push(null);for(t=0;t<n;t++)this.month.push([])},n.prototype.getAmountOfDaysInMonth=function(){var l=this.now.getMonth()+1;return 2!==l?l<=7?l%2==0?30:31:l%2!=0?30:31:n.isLeapYear(this.now)?29:28},n.prototype.ngAfterViewInit=function(){var n=this;if(this.appQuery.hasCredentials()){this.keySub=this.keyService.leftRightlistener$.subscribe(this.onKeyEvent),this.query();var l=[{name:"Demo Event 1",typ:"ferientag",format:"fullday",votes:10,by:{name:"Demo User",uid:"DEMOUID"},begin:+new Date}];console.log(l),l.forEach(function(l){if("fullday"===l.format){var t=(i=new Date(l.begin)).getDate();n.month[t-1+n.offset].push(l)}else if("ferien"===l.format||"time"===l.format)for(var u=new Date(l.begin).getDate(),e=new Date(l.end).getDate(),o=u;o<=e;o++)n.month[o-1+n.offset].push(l);else if("schule"===l.format){var i,r=l.begin.toString().length,a=+l.begin.toString().substr(0,12===r?1:2);t=(i=new Date(+(l.begin.toString().substr(12===r?1:2)+"0"+(12===r?"0":"")))).getDate(),l.beginSchulStunde=a,l.begin=+i,n.month[t-1+n.offset].push(l)}}),console.log("month.month",this.month)}},n.prototype.onKeyEvent=function(n){n===y.a.LEFT_EVENT?this.showPrevMonth():n===y.a.RIGHT_EVENT&&this.showNextMonth()},n.prototype.ngOnDestroy=function(){this.keySub&&this.keySub.unsubscribe()},n.prototype.query=function(){var n=this.now.getFullYear(),l=this.now.getMonth()+1;return n+"-"+(1===l.toString().length?"0":"")+l},n.prototype.showNextMonth=function(){this.changeMonth.emit(n.EVENT_NEXT_MONTH)},n.prototype.showPrevMonth=function(){this.changeMonth.emit(n.EVENT_PREV_MONTH)},n.EVENT_PREV_MONTH=0,n.EVENT_NEXT_MONTH=1,n}(),x=u.mb({encapsulation:0,styles:[[".calendar[_ngcontent-%COMP%]{display:grid;grid:auto/1fr 1fr 1fr 1fr 1fr 1fr 1fr;max-width:900px;width:97%;margin:10px auto 0}.item[_ngcontent-%COMP%]{position:relative;width:auto;height:calc(100vh / 6);background:#eff1f3;margin:1px;border-radius:5px;overflow:hidden;padding:3px}@media (min-width:600px){.item[_ngcontent-%COMP%]{margin:5px}}.item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:4px 0;text-align:center}.item.filler-item[_ngcontent-%COMP%]{opacity:0}.item[_ngcontent-%COMP%]   .event-hint[_ngcontent-%COMP%]{cursor:pointer;width:calc(100% - 6px);overflow:hidden;border-radius:5px;padding:2px;margin:0 auto 1px;text-overflow:ellipsis}.item[_ngcontent-%COMP%]   .frei[_ngcontent-%COMP%]{background:red}.item[_ngcontent-%COMP%]   .klausur[_ngcontent-%COMP%]{background:#00f}.heading[_ngcontent-%COMP%]{display:grid;margin-top:30px;margin-bottom:30px;grid-template:auto/1fr 5fr 1fr}.heading[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.6;text-align:center;font-size:2.5rem;transition:opacity .1s linear;cursor:pointer}.heading[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{opacity:1}.heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}"]],data:{}});function I(n){return u.Ib(0,[(n()(),u.ob(0,0,null,null,4,"div",[],null,[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==(n.component.currentEvent=n.context.$implicit)&&u),u},null,null)),u.Db(512,null,i.x,i.y,[u.s,u.t,u.k,u.D]),u.nb(2,278528,null,0,i.k,[i.x],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u.Bb(3,{frei:0}),(n()(),u.Gb(4,null,[" "," "]))],function(n,l){var t="event-hint "+l.context.$implicit.typ,u=n(l,3,0,"ferien"===l.context.$implicit.typ||"ferientag"===l.context.$implicit.typ);n(l,2,0,t,u)},function(n,l){n(l,4,0,l.context.$implicit.name)})}function C(n){return u.Ib(0,[(n()(),u.ob(0,0,null,null,4,"div",[["class","item"]],null,null,null,null,null)),(n()(),u.ob(1,0,null,null,1,"h4",[],null,null,null,null,null)),(n()(),u.Gb(2,null,["",""])),(n()(),u.eb(16777216,null,null,1,null,I)),u.nb(4,278528,null,0,i.l,[u.O,u.L,u.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,4,0,l.parent.context.$implicit)},function(n,l){n(l,2,0,l.parent.context.index-l.component.offset+1)})}function _(n){return u.Ib(0,[(n()(),u.ob(0,0,null,null,0,"div",[["class","item filler-item"]],null,null,null,null,null))],null,null)}function D(n){return u.Ib(0,[(n()(),u.ob(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),u.eb(16777216,null,null,1,null,C)),u.nb(2,16384,null,0,i.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.eb(16777216,null,null,1,null,_)),u.nb(4,16384,null,0,i.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.eb(0,null,null,0))],function(n,l){n(l,2,0,null!==l.context.$implicit),n(l,4,0,null===l.context.$implicit)},null)}function E(n){return u.Ib(0,[u.Ab(0,i.e,[u.u]),(n()(),u.ob(1,0,null,null,1,"app-show-event",[],null,[[null,"close"]],function(n,l,t){var u=!0;return"close"===l&&(u=!1!==(n.component.currentEvent=null)&&u),u},w,b)),u.nb(2,49152,null,0,s,[],{event:[0,"event"]},{close:"close"}),(n()(),u.ob(3,0,null,null,13,"div",[["class","heading"]],null,null,null,null,null)),(n()(),u.ob(4,0,null,null,4,"i",[["class","material-icons"]],null,[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.showPrevMonth()&&u),u},null,null)),u.Db(512,null,i.z,i.A,[u.k,u.t,u.D]),u.nb(6,278528,null,0,i.p,[i.z],{ngStyle:[0,"ngStyle"]},null),u.Bb(7,{visibility:0}),(n()(),u.Gb(-1,null,["arrow_back"])),(n()(),u.ob(9,0,null,null,2,"h1",[["class","center-text"]],null,null,null,null,null)),(n()(),u.Gb(10,null,["",""])),u.Cb(11,2),(n()(),u.ob(12,0,null,null,4,"i",[["class","material-icons"]],null,[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.showNextMonth()&&u),u},null,null)),u.Db(512,null,i.z,i.A,[u.k,u.t,u.D]),u.nb(14,278528,null,0,i.p,[i.z],{ngStyle:[0,"ngStyle"]},null),u.Bb(15,{visibility:0}),(n()(),u.Gb(-1,null,["arrow_forward"])),(n()(),u.ob(17,0,null,null,2,"div",[["class","calendar"]],null,null,null,null,null)),(n()(),u.eb(16777216,null,null,1,null,D)),u.nb(19,278528,null,0,i.l,[u.O,u.L,u.s],{ngForOf:[0,"ngForOf"]},null),(n()(),u.ob(20,0,null,null,0,"br",[],null,null,null,null,null))],function(n,l){var t=l.component;n(l,2,0,t.currentEvent);var u=n(l,7,0,t.showPrevArrow?"initial":"hidden");n(l,6,0,u);var e=n(l,15,0,t.showNextArrow?"initial":"hidden");n(l,14,0,e),n(l,19,0,t.month)},function(n,l){var t=l.component,e=u.Hb(l,10,0,n(l,11,0,u.yb(l,0),t.now,"MMMM yyyy"));n(l,10,0,e)})}var k=function(){return function(){this.bgColor="#223843",this.color="white"}}(),P=u.mb({encapsulation:0,styles:[["div[_ngcontent-%COMP%]{position:fixed;bottom:10px;right:10px;background:red;height:70px;width:70px;border-radius:70px;z-index:14;display:flex;justify-content:center;align-items:center;box-shadow:1px 1px 5px 0 rgba(0,0,0,.6);transition:box-shadow .3s ease-out;cursor:pointer}div[_ngcontent-%COMP%]:hover{box-shadow:2px 2px 10px 0 rgba(0,0,0,.6)}"]],data:{}});function N(n){return u.Ib(2,[(n()(),u.ob(0,0,null,null,4,"div",[],null,null,null,null,null)),u.Db(512,null,i.z,i.A,[u.k,u.t,u.D]),u.nb(2,278528,null,0,i.p,[i.z],{ngStyle:[0,"ngStyle"]},null),u.Bb(3,{background:0,color:1}),u.xb(null,0)],function(n,l){var t=l.component,u=n(l,3,0,t.bgColor,t.color);n(l,2,0,u)},null)}var T=function(){function n(n){this.router=n,this.MINIMUM_DELTA=-4,this.MAXIMUM_DELTA=24,this.currentMonth=(new Date).getMonth(),this.currentYear=(new Date).getFullYear(),this.monthDelta=0,this.show=!0}return n.prototype.monthChanged=function(n){var l=this,t=Math.min(Math.max(this.monthDelta+(n===O.EVENT_PREV_MONTH?-1:1),this.MINIMUM_DELTA),this.MAXIMUM_DELTA);t!==this.monthDelta&&(this.monthDelta=t,this.show=!1,setTimeout(function(){return l.show=!0},100))},Object.defineProperty(n.prototype,"date",{get:function(){var n=this.currentYear,l=this.currentMonth+this.monthDelta;if(l>11)for(;l>11;)n++,l-=12;else if(l<0)for(;l<0;)n--,l+=12;return new Date(n,l)},enumerable:!0,configurable:!0}),n.prototype.routeToNewEventComp=function(){this.router.navigate(["/calendar/new"])},n}(),A=t("ZYCi"),L=u.mb({encapsulation:0,styles:[[""]],data:{}});function S(n){return u.Ib(0,[(n()(),u.ob(0,0,null,null,1,"app-month",[],null,[[null,"changeMonth"]],function(n,l,t){var u=!0;return"changeMonth"===l&&(u=!1!==n.component.monthChanged(t)&&u),u},E,x)),u.nb(1,4440064,null,0,O,[M.a,y.a],{now:[0,"now"],showPrevArrow:[1,"showPrevArrow"],showNextArrow:[2,"showNextArrow"]},{changeMonth:"changeMonth"})],function(n,l){var t=l.component;n(l,1,0,t.date,t.monthDelta!==t.MINIMUM_DELTA,t.monthDelta!==t.MAXIMUM_DELTA)},null)}function G(n){return u.Ib(0,[(n()(),u.ob(0,0,null,null,3,"app-fab",[],null,[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.routeToNewEventComp()&&u),u},N,P)),u.nb(1,49152,null,0,k,[],null,null),(n()(),u.ob(2,0,null,0,1,"i",[["class","material-icons block"]],null,null,null,null,null)),(n()(),u.Gb(-1,null,["add"])),(n()(),u.eb(16777216,null,null,1,null,S)),u.nb(5,16384,null,0,i.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,5,0,l.component.show)},null)}function F(n){return u.Ib(0,[(n()(),u.ob(0,0,null,null,1,"app-related-months",[],null,null,null,G,L)),u.nb(1,49152,null,0,T,[A.k],null,null)],null,null)}var H=u.kb("app-related-months",T,F,{},{},[]),V=function(){function n(){}return n.prototype.ngOnInit=function(){},n}(),z=u.mb({encapsulation:0,styles:[[""]],data:{}});function Y(n){return u.Ib(0,[(n()(),u.ob(0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),u.Gb(-1,null,[" new-event works!\n"]))],null,null)}function $(n){return u.Ib(0,[(n()(),u.ob(0,0,null,null,1,"app-new-event",[],null,null,null,Y,z)),u.nb(1,114688,null,0,V,[],null,null)],function(n,l){n(l,1,0)},null)}var U=u.kb("app-new-event",V,$,{},{},[]),R=function(){return function(){}}(),X=t("0Faz");t.d(l,"CalendarModuleNgFactory",function(){return B});var B=u.lb(e,[],function(n){return u.vb([u.wb(512,u.j,u.Z,[[8,[o.a,H,U]],[3,u.j],u.x]),u.wb(4608,i.o,i.n,[u.u,[2,i.C]]),u.wb(1073742336,i.c,i.c,[]),u.wb(1073742336,A.n,A.n,[[2,A.s],[2,A.k]]),u.wb(1073742336,R,R,[]),u.wb(1073742336,X.a,X.a,[]),u.wb(1073742336,e,e,[]),u.wb(1024,A.i,function(){return[[{path:"month",component:T},{path:"new",component:V},{path:"",pathMatch:"full",redirectTo:"month"}]]},[])])})}}]);