(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{p6kr:function(n,l,t){"use strict";t.r(l);var u=t("8Y7J");class e{}var o=t("pMnS"),i=t("SVse"),r=t("7T+M"),a=t("Fe16"),c=t("K8Gv");class s{constructor(){this.close=new u.m,this.capitalizeFL=c.a,this.dateOf=(n=>new Date(n))}}var b=u.kb({encapsulation:0,styles:[["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin:0}.inner[_ngcontent-%COMP%]{padding:20px}"]],data:{}});function h(n){return u.Gb(0,[(n()(),u.Eb(0,null,[" "," - "," "])),u.Ab(1,2),u.Ab(2,2)],null,function(n,l){var t=l.component,e=u.Fb(l,0,0,n(l,1,0,u.wb(l.parent.parent,0),t.dateOf(t.event.begin),"dd.MM.")),o=u.Fb(l,0,1,n(l,2,0,u.wb(l.parent.parent,0),t.dateOf(t.event.end),"dd.MM."));n(l,0,0,e,o)})}function m(n){return u.Gb(0,[(n()(),u.Eb(0,null,[" "," "])),u.Ab(1,2)],null,function(n,l){var t=l.component,e=u.Fb(l,0,0,n(l,1,0,u.wb(l.parent.parent,0),t.dateOf(t.event.begin),"dd.MM."));n(l,0,0,e)})}function f(n){return u.Gb(0,[(n()(),u.Eb(0,null,[" "," - "," "])),u.Ab(1,2),u.Ab(2,2)],null,function(n,l){var t=l.component,e=u.Fb(l,0,0,n(l,1,0,u.wb(l.parent.parent,0),t.dateOf(t.event.begin),"hh:mm")),o=u.Fb(l,0,1,n(l,2,0,u.wb(l.parent.parent,0),t.dateOf(t.event.end),"hh:mm"));n(l,0,0,e,o)})}function g(n){return u.Gb(0,[(n()(),u.Eb(0,null,[" ",". - ",". Stunde "]))],null,function(n,l){var t=l.component;n(l,0,0,t.event.beginSchulStunde,t.event.end)})}function p(n){return u.Gb(0,[(n()(),u.mb(0,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),u.Eb(-1,null,["Noch nie best\xe4tigt"]))],null,null)}function d(n){return u.Gb(0,[(n()(),u.mb(0,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),u.Eb(1,null,[""," mal best\xe4tigt"]))],null,function(n,l){n(l,1,0,l.component.event.votes)})}function v(n){return u.Gb(0,[(n()(),u.mb(0,0,null,null,29,"app-popup",[],[[40,"@popupOpenClose",0]],[[null,"close"]],function(n,l,t){var u=!0;return"close"===l&&(u=!1!==n.component.close.emit()&&u),u},r.b,r.a)),u.lb(1,49152,null,0,a.a,[],null,{close:"close"}),(n()(),u.mb(2,0,null,0,27,"div",[["class","inner"]],null,null,null,null,null)),(n()(),u.mb(3,0,null,null,1,"h4",[],null,null,null,null,null)),(n()(),u.Eb(4,null,["Von: ",""])),(n()(),u.mb(5,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),u.Eb(6,null,["",""])),(n()(),u.mb(7,0,null,null,1,"h2",[["style","display: inline"]],null,null,null,null,null)),(n()(),u.Eb(8,null,["","\xa0"])),(n()(),u.mb(9,0,null,null,8,"h3",[["style","display: inline"]],null,null,null,null,null)),(n()(),u.cb(16777216,null,null,1,null,h)),u.lb(11,16384,null,0,i.m,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(n()(),u.cb(16777216,null,null,1,null,m)),u.lb(13,16384,null,0,i.m,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(n()(),u.cb(16777216,null,null,1,null,f)),u.lb(15,16384,null,0,i.m,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(n()(),u.cb(16777216,null,null,1,null,g)),u.lb(17,16384,null,0,i.m,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(n()(),u.mb(18,0,null,null,9,"table",[["style","width: 100%"]],null,null,null,null,null)),(n()(),u.mb(19,0,null,null,8,"tr",[],null,null,null,null,null)),(n()(),u.mb(20,0,null,null,3,"td",[],null,null,null,null,null)),(n()(),u.cb(16777216,null,null,1,null,p)),u.lb(22,16384,null,0,i.m,[u.M,u.J],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),u.cb(0,[["votes",2]],null,0,null,d)),(n()(),u.mb(24,0,null,null,3,"td",[],null,null,null,null,null)),(n()(),u.mb(25,0,null,null,1,"button",[],null,null,null,null,null)),(n()(),u.Eb(-1,null,["Best\xe4tigen"])),(n()(),u.mb(27,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),u.mb(28,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(n()(),u.Eb(-1,null,["\xc4nderung einreichen"]))],function(n,l){var t=l.component;n(l,11,0,"ferien"===t.event.format),n(l,13,0,"fullday"===t.event.format),n(l,15,0,"time"===t.event.format),n(l,17,0,"schule"===t.event.format),n(l,22,0,0===t.event.votes,u.wb(l,23))},function(n,l){var t=l.component;n(l,0,0,u.wb(l,1).anim),n(l,4,0,t.event.by.name),n(l,6,0,t.event.name),n(l,8,0,t.capitalizeFL(t.event.typ))})}function M(n){return u.Gb(2,[u.yb(0,i.e,[u.s]),(n()(),u.cb(16777216,null,null,1,null,v)),u.lb(2,16384,null,0,i.m,[u.M,u.J],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,2,0,!!l.component.event)},null)}var w=t("kAhl"),y=t("ZatX");class x{constructor(n,l){this.appQuery=n,this.keyService=l,this.currentEvent=null,this.now=new Date,this.showPrevArrow=!0,this.showNextArrow=!0,this.month=[],this.changeMonth=new u.m,this.keySub=null}static isLeapYear(n){const l=n.getFullYear();return l%4==0&&(l%100!=0||l%400==0)}ngOnInit(){const n=this.getAmountOfDaysInMonth(),l=new Date(this.now.getFullYear(),this.now.getMonth(),1).getDay()-1;this.offset=l<0?6:l;for(let t=0;t<this.offset;t++)this.month.push(null);for(let t=0;t<n;t++)this.month.push([])}getAmountOfDaysInMonth(){const n=this.now.getMonth()+1;return 2!==n?n<=7?n%2==0?30:31:n%2!=0?30:31:x.isLeapYear(this.now)?29:28}ngAfterViewInit(){if(!this.appQuery.hasCredentials())return;this.keySub=this.keyService.leftRightlistener$.subscribe(this.onKeyEvent),this.query();const n=[{name:"Demo Event 1",typ:"ferientag",format:"fullday",votes:10,by:{name:"Demo User",uid:"DEMOUID"},begin:+new Date}];console.log(n),n.forEach(n=>{if("fullday"===n.format){const l=new Date(n.begin).getDate();this.month[l-1+this.offset].push(n)}else if("ferien"===n.format||"time"===n.format){const l=new Date(n.begin).getDate(),t=new Date(n.end).getDate();for(let u=l;u<=t;u++)this.month[u-1+this.offset].push(n)}else if("schule"===n.format){const l=n.begin.toString().length,t=+n.begin.toString().substr(0,12===l?1:2),u=new Date(+(n.begin.toString().substr(12===l?1:2)+"0"+(12===l?"0":""))),e=u.getDate();n.beginSchulStunde=t,n.begin=+u,this.month[e-1+this.offset].push(n)}}),console.log("month.month",this.month)}onKeyEvent(n){n===y.a.LEFT_EVENT?this.showPrevMonth():n===y.a.RIGHT_EVENT&&this.showNextMonth()}ngOnDestroy(){this.keySub&&this.keySub.unsubscribe()}query(){const n=this.now.getFullYear(),l=this.now.getMonth()+1;return`${n}-${1===l.toString().length?"0":""}${l}`}showNextMonth(){this.changeMonth.emit(x.EVENT_NEXT_MONTH)}showPrevMonth(){this.changeMonth.emit(x.EVENT_PREV_MONTH)}}x.EVENT_PREV_MONTH=0,x.EVENT_NEXT_MONTH=1;var E=u.kb({encapsulation:0,styles:[[".calendar[_ngcontent-%COMP%]{display:grid;grid:auto/1fr 1fr 1fr 1fr 1fr 1fr 1fr;max-width:900px;width:97%;margin:10px auto 0}.item[_ngcontent-%COMP%]{position:relative;width:auto;height:calc(100vh / 6);background:#eff1f3;margin:1px;border-radius:5px;overflow:hidden;padding:3px}@media (min-width:600px){.item[_ngcontent-%COMP%]{margin:5px}}.item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:4px 0;text-align:center}.item.filler-item[_ngcontent-%COMP%]{opacity:0}.item[_ngcontent-%COMP%]   .event-hint[_ngcontent-%COMP%]{cursor:pointer;width:calc(100% - 6px);overflow:hidden;border-radius:5px;padding:2px;margin:0 auto 1px;text-overflow:ellipsis}.item[_ngcontent-%COMP%]   .frei[_ngcontent-%COMP%]{background:red}.item[_ngcontent-%COMP%]   .klausur[_ngcontent-%COMP%]{background:#00f}.heading[_ngcontent-%COMP%]{display:grid;margin-top:30px;margin-bottom:30px;grid-template:auto/1fr 5fr 1fr}.heading[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.6;text-align:center;font-size:2.5rem;transition:opacity .1s linear;cursor:pointer}.heading[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{opacity:1}.heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}"]],data:{}});function O(n){return u.Gb(0,[(n()(),u.mb(0,0,null,null,4,"div",[],null,[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==(n.component.currentEvent=n.context.$implicit)&&u),u},null,null)),u.Bb(512,null,i.x,i.y,[u.q,u.r,u.k,u.B]),u.lb(2,278528,null,0,i.k,[i.x],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),u.zb(3,{frei:0}),(n()(),u.Eb(4,null,[" "," "]))],function(n,l){var t="event-hint "+l.context.$implicit.typ,u=n(l,3,0,"ferien"===l.context.$implicit.typ||"ferientag"===l.context.$implicit.typ);n(l,2,0,t,u)},function(n,l){n(l,4,0,l.context.$implicit.name)})}function _(n){return u.Gb(0,[(n()(),u.mb(0,0,null,null,4,"div",[["class","item"]],null,null,null,null,null)),(n()(),u.mb(1,0,null,null,1,"h4",[],null,null,null,null,null)),(n()(),u.Eb(2,null,["",""])),(n()(),u.cb(16777216,null,null,1,null,O)),u.lb(4,278528,null,0,i.l,[u.M,u.J,u.q],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,4,0,l.parent.context.$implicit)},function(n,l){n(l,2,0,l.parent.context.index-l.component.offset+1)})}function k(n){return u.Gb(0,[(n()(),u.mb(0,0,null,null,0,"div",[["class","item filler-item"]],null,null,null,null,null))],null,null)}function C(n){return u.Gb(0,[(n()(),u.mb(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),u.cb(16777216,null,null,1,null,_)),u.lb(2,16384,null,0,i.m,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(n()(),u.cb(16777216,null,null,1,null,k)),u.lb(4,16384,null,0,i.m,[u.M,u.J],{ngIf:[0,"ngIf"]},null),(n()(),u.cb(0,null,null,0))],function(n,l){n(l,2,0,null!==l.context.$implicit),n(l,4,0,null===l.context.$implicit)},null)}function I(n){return u.Gb(0,[u.yb(0,i.e,[u.s]),(n()(),u.mb(1,0,null,null,1,"app-show-event",[],null,[[null,"close"]],function(n,l,t){var u=!0;return"close"===l&&(u=!1!==(n.component.currentEvent=null)&&u),u},M,b)),u.lb(2,49152,null,0,s,[],{event:[0,"event"]},{close:"close"}),(n()(),u.mb(3,0,null,null,13,"div",[["class","heading"]],null,null,null,null,null)),(n()(),u.mb(4,0,null,null,4,"i",[["class","material-icons"]],null,[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.showPrevMonth()&&u),u},null,null)),u.Bb(512,null,i.z,i.A,[u.k,u.r,u.B]),u.lb(6,278528,null,0,i.p,[i.z],{ngStyle:[0,"ngStyle"]},null),u.zb(7,{visibility:0}),(n()(),u.Eb(-1,null,["arrow_back"])),(n()(),u.mb(9,0,null,null,2,"h1",[["class","center-text"]],null,null,null,null,null)),(n()(),u.Eb(10,null,["",""])),u.Ab(11,2),(n()(),u.mb(12,0,null,null,4,"i",[["class","material-icons"]],null,[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.showNextMonth()&&u),u},null,null)),u.Bb(512,null,i.z,i.A,[u.k,u.r,u.B]),u.lb(14,278528,null,0,i.p,[i.z],{ngStyle:[0,"ngStyle"]},null),u.zb(15,{visibility:0}),(n()(),u.Eb(-1,null,["arrow_forward"])),(n()(),u.mb(17,0,null,null,2,"div",[["class","calendar"]],null,null,null,null,null)),(n()(),u.cb(16777216,null,null,1,null,C)),u.lb(19,278528,null,0,i.l,[u.M,u.J,u.q],{ngForOf:[0,"ngForOf"]},null),(n()(),u.mb(20,0,null,null,0,"br",[],null,null,null,null,null))],function(n,l){var t=l.component;n(l,2,0,t.currentEvent);var u=n(l,7,0,t.showPrevArrow?"initial":"hidden");n(l,6,0,u);var e=n(l,15,0,t.showNextArrow?"initial":"hidden");n(l,14,0,e),n(l,19,0,t.month)},function(n,l){var t=l.component,e=u.Fb(l,10,0,n(l,11,0,u.wb(l,0),t.now,"MMMM yyyy"));n(l,10,0,e)})}class D{constructor(){this.bgColor="#223843",this.color="white"}}var P=u.kb({encapsulation:0,styles:[["div[_ngcontent-%COMP%]{position:fixed;bottom:10px;right:10px;background:red;height:70px;width:70px;border-radius:70px;z-index:14;display:flex;justify-content:center;align-items:center;box-shadow:1px 1px 5px 0 rgba(0,0,0,.6);transition:box-shadow .3s ease-out;cursor:pointer}div[_ngcontent-%COMP%]:hover{box-shadow:2px 2px 10px 0 rgba(0,0,0,.6)}"]],data:{}});function A(n){return u.Gb(2,[(n()(),u.mb(0,0,null,null,4,"div",[],null,null,null,null,null)),u.Bb(512,null,i.z,i.A,[u.k,u.r,u.B]),u.lb(2,278528,null,0,i.p,[i.z],{ngStyle:[0,"ngStyle"]},null),u.zb(3,{background:0,color:1}),u.vb(null,0)],function(n,l){var t=l.component,u=n(l,3,0,t.bgColor,t.color);n(l,2,0,u)},null)}class N{constructor(n){this.router=n,this.MINIMUM_DELTA=-4,this.MAXIMUM_DELTA=24,this.currentMonth=(new Date).getMonth(),this.currentYear=(new Date).getFullYear(),this.monthDelta=0,this.show=!0}monthChanged(n){const l=Math.min(Math.max(this.monthDelta+(n===x.EVENT_PREV_MONTH?-1:1),this.MINIMUM_DELTA),this.MAXIMUM_DELTA);l!==this.monthDelta&&(this.monthDelta=l,this.show=!1,setTimeout(()=>this.show=!0,100))}get date(){let n=this.currentYear,l=this.currentMonth+this.monthDelta;if(l>11)for(;l>11;)n++,l-=12;else if(l<0)for(;l<0;)n--,l+=12;return new Date(n,l)}routeToNewEventComp(){this.router.navigate(["/calendar/new"])}}var T=t("iInd"),S=u.kb({encapsulation:0,styles:[[""]],data:{}});function G(n){return u.Gb(0,[(n()(),u.mb(0,0,null,null,1,"app-month",[],null,[[null,"changeMonth"]],function(n,l,t){var u=!0;return"changeMonth"===l&&(u=!1!==n.component.monthChanged(t)&&u),u},I,E)),u.lb(1,4440064,null,0,x,[w.a,y.a],{now:[0,"now"],showPrevArrow:[1,"showPrevArrow"],showNextArrow:[2,"showNextArrow"]},{changeMonth:"changeMonth"})],function(n,l){var t=l.component;n(l,1,0,t.date,t.monthDelta!==t.MINIMUM_DELTA,t.monthDelta!==t.MAXIMUM_DELTA)},null)}function F(n){return u.Gb(0,[(n()(),u.mb(0,0,null,null,3,"app-fab",[],null,[[null,"click"]],function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.routeToNewEventComp()&&u),u},A,P)),u.lb(1,49152,null,0,D,[],null,null),(n()(),u.mb(2,0,null,0,1,"i",[["class","material-icons block"]],null,null,null,null,null)),(n()(),u.Eb(-1,null,["add"])),(n()(),u.cb(16777216,null,null,1,null,G)),u.lb(5,16384,null,0,i.m,[u.M,u.J],{ngIf:[0,"ngIf"]},null)],function(n,l){n(l,5,0,l.component.show)},null)}function z(n){return u.Gb(0,[(n()(),u.mb(0,0,null,null,1,"app-related-months",[],null,null,null,F,S)),u.lb(1,49152,null,0,N,[T.k],null,null)],null,null)}var J=u.ib("app-related-months",N,z,{},{},[]);class V{constructor(){}ngOnInit(){}}var $=u.kb({encapsulation:0,styles:[[""]],data:{}});function L(n){return u.Gb(0,[(n()(),u.mb(0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),u.Eb(-1,null,[" new-event works!\n"]))],null,null)}function B(n){return u.Gb(0,[(n()(),u.mb(0,0,null,null,1,"app-new-event",[],null,null,null,L,$)),u.lb(1,114688,null,0,V,[],null,null)],function(n,l){n(l,1,0)},null)}var Y=u.ib("app-new-event",V,B,{},{},[]);class U{}var X=t("0Faz");t.d(l,"CalendarModuleNgFactory",function(){return H});var H=u.jb(e,[],function(n){return u.tb([u.ub(512,u.j,u.X,[[8,[o.a,J,Y]],[3,u.j],u.v]),u.ub(4608,i.o,i.n,[u.s,[2,i.C]]),u.ub(1073742336,i.c,i.c,[]),u.ub(1073742336,T.n,T.n,[[2,T.s],[2,T.k]]),u.ub(1073742336,U,U,[]),u.ub(1073742336,X.a,X.a,[]),u.ub(1073742336,e,e,[]),u.ub(1024,T.i,function(){return[[{path:"month",component:N},{path:"new",component:V},{path:"",pathMatch:"full",redirectTo:"month"}]]},[])])})}}]);